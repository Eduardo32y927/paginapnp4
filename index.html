<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Plataforma Anticorrupción - PNP Ica</title>
<style>
  body { font-family: Arial, sans-serif; margin:0; padding:0; background:linear-gradient(135deg,#0f2027,#203a43,#2c5364); color:#fff; }
  header { background: rgba(0,0,0,0.7); text-align:center; padding:20px; border-bottom:3px solid #ffcc00; }
  header h1 { margin:0; font-size:2em; color:#ffcc00; }
  .container { display:flex; gap:20px; padding:20px; }
  .form-container, .cases-container { background: rgba(255,255,255,0.08); padding:20px; border-radius:10px; flex:1; overflow-y:auto; max-height:85vh; box-shadow:0 0 10px rgba(0,0,0,0.5); }
  label { display:block; margin-top:10px; font-weight:bold; }
  input, select, textarea, button { width:100%; padding:8px; margin-top:5px; border:none; border-radius:5px; }
  textarea { resize:none; }
  button { background:#ffcc00; color:#000; font-weight:bold; cursor:pointer; margin-top:10px; }
  button:hover { background:#e6b800; }
  .case { background: rgba(0,0,0,0.5); margin-bottom:15px; padding:15px; border-radius:8px; }
  .case h3 { margin:0 0 10px; color:#ffcc00; }
  .details { display:none; margin-top:10px; font-size:0.9em; line-height:1.4em; color:#eee; }
  .acciones { display:flex; justify-content:flex-end; gap:10px; margin-top:10px; }
  .btn { padding:6px 10px; border-radius:5px; border:none; cursor:pointer; }
  .btn.sec { background:#ccc; color:#000; }
  .btn.warn { background:#ff4444; color:#fff; }
  .label-denunciado { background:#ff4444; color:#fff; padding:3px 6px; border-radius:5px; font-size:0.8rem; }
  .denuncia-form { display:none; background: rgba(255,255,255,0.1); padding:10px; border-radius:8px; margin-top:10px; }
</style>
</head>
<body>

<header>
  <h1>Plataforma Anticorrupción de la PNP Ica</h1>
  <p>Regístrate, revisa casos de corrupción y presenta tu denuncia.</p>
</header>

<div class="container">
  <!-- Registro -->
  <div class="form-container">
    <h2>Registro</h2>
    <form id="registroForm">
      <label>Nombre completo:</label>
      <input type="text" id="nombre" required>
      <label>Correo institucional:</label>
      <input type="email" id="correo" required>
      <label>Edad:</label>
      <input type="number" id="edad" required>
      <label>DNI:</label>
      <input type="text" id="dni" required>
      <label>Sector PNP:</label>
      <select id="sector" required>
        <option value="">Seleccione</option>
        <option>Ica</option>
        <option>Pisco</option>
        <option>Chincha</option>
        <option>Nasca</option>
        <option>Palpa</option>
      </select>
      <button type="submit">Registrarse</button>
    </form>
  </div>

  <!-- Casos -->
  <div class="cases-container">
    <h2>Casos de corrupción</h2>
    <div id="casesList"></div>
  </div>
</div>

<script>
let registrado = false;

const casos = [
  { id:1, titulo:"Sobornos por permisos de tránsito", lugar:"Comisaría Pisco", sector:"Pisco", descripcion:"Denuncias sobre oficiales cobrando dinero a conductores.", evidencia:"Fotos y mensajes.", detalles:`<ul><li><strong>Responsables:</strong> Dos suboficiales de tránsito.</li><li><strong>Modalidad:</strong> Cobros en efectivo a conductores.</li><li><strong>Fuente:</strong> Fiscalía Anticorrupción.</li></ul>`, denunciado:false },
  { id:2, titulo:"Desvío de fondos de operativos", lugar:"Comisaría Ica", sector:"Ica", descripcion:"Apropiación de fondos asignados a operativos nocturnos.", evidencia:"Comprobantes faltantes y testimonios.", detalles:`<ul><li><strong>Monto:</strong> S/50,000 aprox.</li><li><strong>Responsables:</strong> Personal administrativo.</li><li><strong>Fuente:</strong> Auditoría interna Ica.</li></ul>`, denunciado:false },
  { id:3, titulo:"Cobro de coimas en puestos de control", lugar:"Comisaría Chincha", sector:"Chincha", descripcion:"Reportes de cobros arbitrarios en controles de carretera.", evidencia:"Grabaciones de audio y testimonios.", detalles:`<ul><li><strong>Zona afectada:</strong> Carretera Panamericana Sur, km 204.</li><li><strong>Monto promedio:</strong> S/20-50 por vehículo.</li><li><strong>Fuente:</strong> Reportaje de prensa local.</li></ul>`, denunciado:false },
  { id:4, titulo:"Irregularidades en entrega de material incautado", lugar:"Comisaría Nasca", sector:"Nasca", descripcion:"Sospechas de venta no registrada de material incautado.", evidencia:"Actas incompletas y testigos.", detalles:`<ul><li><strong>Material comprometido:</strong> 12 laptops y 8 motocicletas.</li><li><strong>Responsables:</strong> Personal del almacén y un oficial de guardia.</li><li><strong>Fuente:</strong> Informe de Contraloría.</li></ul>`, denunciado:false },
  { id:5, titulo:"Nepotismo en asignación de turnos", lugar:"Comisaría Palpa", sector:"Palpa", descripcion:"Asignación irregular de turnos a familiares de oficiales.", evidencia:"Registros internos y testimonios de oficiales.", detalles:`<ul><li><strong>Responsables:</strong> Jefatura de turno.</li><li><strong>Modalidad:</strong> Favoritismo en asignación de turnos.</li><li><strong>Fuente:</strong> Auditoría interna PNP.</li></ul>`, denunciado:false }
];

const casesList=document.getElementById("casesList");

function renderCasos(){
  casesList.innerHTML="";
  casos.forEach(c=>{
    const card=document.createElement("div");
    card.classList.add("case");
    card.innerHTML=`
      <h3>${c.titulo}</h3>
      <p><strong>Lugar:</strong> ${c.lugar}</p>
      <p><strong>Descripción:</strong> ${c.descripcion}</p>
      <p><strong>Evidencia:</strong> ${c.evidencia}</p>
      <div class="details" id="detalles-${c.id}">${c.detalles}</div>
      <div class="acciones">
        <button class="btn sec" onclick="toggleDetalles(${c.id})">Ver detalles</button>
        <button class="btn warn" onclick="toggleDenuncia(${c.id})">Denunciar</button>
      </div>
      <div class="denuncia-form" id="denuncia-${c.id}">
        <label>Nombre del policía:</label>
        <input type="text" id="policia-${c.id}" placeholder="Ej: Juan Pérez">
        <label>Sector PNP:</label>
        <input type="text" id="sector-${c.id}" placeholder="${c.sector}" readonly>
        <label>Lugar del incidente:</label>
        <input type="text" id="lugar-${c.id}" placeholder="${c.lugar}" readonly>
        <label>Motivo de la denuncia:</label>
        <textarea id="motivo-${c.id}" placeholder="Describe lo sucedido..."></textarea>
        <button onclick="enviarDenuncia(${c.id})">Enviar denuncia</button>
      </div>
      ${c.denunciado?'<span class="label-denunciado">Denunciado</span>':''}
    `;
    casesList.appendChild(card);
  });
}

function toggleDetalles(id){ const el=document.getElementById(`detalles-${id}`); if(!el) return; el.style.display=el.style.display==="none"?"block":"none"; }
function toggleDenuncia(id){ if(!registrado){ alert("Debes registrarte antes de denunciar"); return; } const el=document.getElementById(`denuncia-${id}`); if(!el) return; el.style.display=el.style.display==="none"?"block":"none"; }
function enviarDenuncia(id){ 
  const nombre=document.getElementById(`policia-${id}`).value.trim();
  const motivo=document.getElementById(`motivo-${id}`).value.trim();
  if(!nombre||!motivo){ alert("Completa todos los campos"); return; }
  const caso=casos.find(c=>c.id===id);
  caso.denunciado=true;
  alert(`Denuncia enviada:\nCaso: ${caso.titulo}\nPolicía: ${nombre}\nSector: ${caso.sector}\nLugar: ${caso.lugar}\nMotivo: ${motivo}`);
  renderCasos();
}

document.getElementById("registroForm").addEventListener("submit", function(e){ e.preventDefault(); registrado=true; alert("Registro exitoso. Ahora puedes denunciar casos."); });

renderCasos();
</script>
</body>
</html>
